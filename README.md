Summer-2013 - Clutch
====================

Research work for the summer of 2013
The first attempt at a program to find transversal counterexamples in rectangles
 
Procedure:
----------

1)  Generate the canonical forms using util/gen_canon.cpp (instructions included in file.)
2)  Create an input file as described below.
3)  Compile the file (eg: clang++ clutch.cpp -O3 -oclutch)
4)  Run (eg: ./clutch < input.txt)


Input File Format:
------------------

   N.B:    This format was created from combining previous utilities and experiments and
           will most likely be replaced with something better eventually.

           Frequencies cannot exceed a single digit. (Shouldn't be a problem for the sizes
           we are expecting.)

           Only attemps one configuration of frequencies, allowing for multiple instances
           to be run using different frequency setups as the program is not multithreaded
           whatsoever.

   n m fmax                        (Number of rows, columns, and maximum frequency)
   f1f2f3f4...fn                   (list of frequencies starting with fmax)
   canon_list_fmax.file            (Path to canonical form files generated by util/gen_canon)
   canon_list_fmax-1.file
   ...
   canon_list_1.file


Outline:
--------

1)  Read in canonical forms
       i) Read in all frequency files.
       ii) Order them by highest kill count
2)  Begin placing canonical forms by frequency and then by kill count into heap/queue
   and expand them.
3)  At each expansion we add additional canon shapes to the matrix, calculate the new
   amount of transversals in those matrices and place them back into the heap/queue.
4)  Loop while expanding the matrices until a counter example has been found or we run
   out of nodes.


Permuting the canonical forms:
------------------------------

   Take two vectors of integers, rows and colums, with values [1,m] and [1,n]
   respectively. Permute these vectors using the built in permute function and then
   loop over the matrix we are attempting to insert the canonical form into. 

   Let i = [0,m[ and j = [0, n[, then we let matrix[in + j] = cform[ row[i]n + cols[j] ]
   so long as matrix[in + j] == 0. If it isn't and neither is the cform then they 
   obviously incompatible and the cform cannot be inserted.

   Problems:
       -   This creates many duplicate insertions (valid & invalid)
   
   Possible solutions:
       -   Some kind of hash lookup to see if the insertion has already been done before

   Possible improements:
       -   Check to see if the permuted matrix at [0][0] != 0. If it is not zero then we
           know that the insertion will not work because all of our initial insertions
           always have a value in the top left corner.


TODO:
-----
   - Don't insert cforms we know won't work
   - Check if the transversal is the same and don't insert it if it is

